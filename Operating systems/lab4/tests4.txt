сборка: g++ laba4.cpp -o laba4 -lrt -pthread
тестируем: cat > test.txt
adfscg
sajdjadmkerfvv
zxc
aboba)
выходим из cat: Ctrl+D
запускаем: ./laba4
ls
тут смотрим, что в каталоге
cat 1.txt
тут какой-то типа результат
cat 2.txt
тут тоже

работает любое количество строк, введенных в test.txt (в пределах разумного) как символьных, так и буквенных.